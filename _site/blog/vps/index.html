<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.9.0 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js" xmlns:wb="http://open.weibo.com/wb">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Using Google cloud to build a Virtual Private Server (VPS)   Dongdaâ€™s homepage</title>
<meta name="description" content="Using Google cloud to build a Virtual Private Server (VPS), set up BBR and ssr">
<meta name="keywords" content="Using Google cloud to build a Virtual Private Server (VPS), set up BBR and ssr">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_HK">
<meta property="og:site_name" content="Dongda's homepage">
<meta property="og:title" content="Using Google cloud to build a Virtual Private Server (VPS)">
<meta property="og:url" content="http://localhost:4000/blog/vps/">


  <meta property="og:description" content="Using Google cloud to build a Virtual Private Server (VPS), set up BBR and ssr">





  <meta name="twitter:site" content="@dongdongbh">
  <meta name="twitter:title" content="Using Google cloud to build a Virtual Private Server (VPS)">
  <meta name="twitter:description" content="Using Google cloud to build a Virtual Private Server (VPS), set up BBR and ssr">
  <meta name="twitter:url" content="http://localhost:4000/blog/vps/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2018-04-19T00:00:00+08:00">





  

  


<link rel="canonical" href="http://localhost:4000/blog/vps/">







  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Dongda Li",
      "url": "http://localhost:4000",
      "sameAs": null
    }
  </script>



  <meta name="google-site-verification" content="google666c99d8bc51b024.html" />


  <meta name="baidu-site-verification" content="CRSaXcVqvi" />





<!-- end _includes/seo.html -->


<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Dongda's homepage Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->
<meta property="wb:webmaster" content="ec24ee5aab20f47f" />
<script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body class="layout--splash">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="http://localhost:4000/">Dongda's homepage</a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/year-archive/" >Posts</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/tag-archive/" >Tags</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://mmistakes.github.io/minimal-mistakes/about/" >About</a>
            </li>
          
        </ul>
        
        <button class="search__toggle" type="button">
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    <div class="initial-content">
      

<div id="main" role="main">
  <article class="splash" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Using Google cloud to build a Virtual Private Server (VPS)">
    <meta itemprop="description" content="set up a VPS on Google cloud  buy a VM on Google cloud (it has one year free trial now) choose Debian Linux and the place near to get fast access (eg, asia-east, asia-noutheast)  use ssh connect VPS (you can use browser ssh or ssh key on terminal) if you use terminal ssh, please set up gcloud first follow this tutorial use gcloud compute ssh [username] to connect VPS on terminal  configure you VPS  configure you client">
    <meta itemprop="datePublished" content="April 19, 2018">
    

    <section class="page__content" itemprop="text">
      <h1 id="set-up-a-vps-on-google-cloud">set up a VPS on Google cloud</h1>
<ol>
  <li>buy a VM on <a href="https://cloud.google.com/">Google cloud</a> (it has one year free trial now)
 choose Debian Linux and the place near to get fast access (eg, <code class="highlighter-rouge">asia-east</code>, <code class="highlighter-rouge">asia-noutheast</code>)</li>
  <li>use ssh connect VPS (you can use browser ssh or ssh key on terminal)
 if you use terminal ssh, please set up <code class="highlighter-rouge">gcloud</code> first follow this <a href="https://cloud.google.com/compute/docs/instances/connecting-to-instance?hl=zh-cn">tutorial</a>
 use <code class="highlighter-rouge">gcloud compute ssh [username]</code> to connect VPS on terminal</li>
  <li>configure you VPS</li>
  <li>configure you client</li>
</ol>

<h2 id="set-up-bbr-and-ssr">set up BBR and ssr</h2>
<ul>
  <li>set up BBR and ssr through script on VPS connected by ssh
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo -i
wget --no-check-certificate https://github.com/iyuco/scripts/raw/master/bbr.sh
chmod +x bbr.sh
./bbr.sh
./shadowsocksR.sh
</code></pre></div>    </div>
  </li>
  <li>set you Google cloud firewall to allow your ssr port in both http and https</li>
</ul>

<h2 id="set-up-linux-pc-client">set up Linux PC client</h2>

<h3 id="set-up-ssr">set up ssr</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>```
wget http://www.djangoz.com/ssr
sudo mv ssr /usr/local/bin
sudo chmod 766 /usr/local/bin/ssr
ssr install
ssr config
```
</code></pre></div></div>

<h3 id="using-ssr-on-terminal">using ssr on terminal</h3>
<ol>
  <li>
    <p><code class="highlighter-rouge">sudo apt-get install privoxy</code></p>
  </li>
  <li>edit /etc/privoxy/config, below is an example
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> listen-address localhost:8118
 forward-socks5 /127.0.0.1:1080.
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="highlighter-rouge">sudo /etc/init.d/privoxy restart</code></p>
  </li>
  <li>configure terminal environment
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export http_proxy="127.0.0.1:8118"
export https_proxy="127.0.0.1:8118"
</code></pre></div>    </div>
  </li>
  <li>try <code class="highlighter-rouge">wget http://www.google.com</code> to test.</li>
</ol>

<h3 id="chrome-management">Chrome management</h3>
<p>if you want to use chrome to manage your redirection, you can use <code class="highlighter-rouge">Proxy SwitchyOmega</code> extension.</p>

<h2 id="set-up-other-clients">set up other clients</h2>
<ul>
  <li>IOS (wingy)</li>
  <li>Windows (<a href="https://github.com/shadowsocksr-rm/shadowsocksr-csharp">ShadowsocksR-win</a>)</li>
  <li>MAC (<a href="https://github.com/shadowsocks/ShadowsocksX-NG">ShadowsocksX</a>)</li>
  <li>Android(<a href="https://github.com/milkice233/shadowsocksr-android">shadowsocksr-android</a>)</li>
</ul>

<p><strong>Special statement: This tutorial is only for learning and research, thanks.</strong></p>


    </section>
  </article>
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap">
  <input type="text" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  <div id="results" class="results"></div>
</div>
      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
    
      <li><a href="https://twitter.com/dongdongbh"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
      <li><a href="https://www.facebook.com/dongdongbh"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
    
    
      <li><a href="https://github.com/dongdongbh"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    
    <li><a href="http://localhost:4000/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2018 Dongda Li. Powered by <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>. Hosted by <a href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a></div>
      </footer>
    </div>

    
  <script src="http://localhost:4000/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>



  
  
  <script src="http://localhost:4000/assets/js/lunr/lunr.min.js"></script>
  <script src="http://localhost:4000/assets/js/lunr/lunr-store.js"></script>
  <script src="http://localhost:4000/assets/js/lunr/lunr-en.js"></script>





    <script async type="text/javascript" src="//apis.google.com/js/plusone.js?callback=gpcb"></script>
<noscript>Please enable JavaScript to view the <a href="https://plus.google.com/">comments powered by Google+.</a></noscript>
  



  </body>
</html>